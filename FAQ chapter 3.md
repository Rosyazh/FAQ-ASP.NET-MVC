# Изучение Главы 3 книги "Professional ASP.NET MVC 5".

Практическое задание к Главе 3: Создать контроллер с двумя методами и соответственно два представления. Один метод передает в свое представление список стран (Англия, Италия, Франция), второй метод - список городов (Лондон. Рим, Париж). Создать секцию, которая будет частью обоих представлений и выводить список стран/городов. Сделать секцию необязательной и отображающей только список городов.

Контрольные вопросы к Главе 3:
- Какие способы передачи данных из контроллера в представление вы знаете?
> 
- Соглашение о расположении и наименовании представлений. Как отступить от данного соглашения? Как ссылаться на представление, расположенное в произвольном каталоге?
> Каждый папка контроллеров в папке views имеет представление для каждого метода действия контроллера, и файл называется так же как и метод. 
> Можно написать необходимое представление View("NotIndex")
> Или явно указать путь к необходимому представлениею View("~/Views/Example/Index.cshtml")
- Строго типизированные представления. Как передать модель в представление? Как определить модель для представления? Как декларировать пространство имен в представлении? Как декларировать в файле конфигурации?
>  Подобные представления позволяют передавать данные не через объект ViewBag, а напрямую в представление через параметр метода View. Код метода контроллера мог бы выглядеть так:
BookContext db = new BookContext();
public ActionResult Index()
{
    return View(db.Books);
}
> View(albums)
> @model IEnumerable<MvcMusicStore.Models.Album>
> @using MvcMusicStore.Models
> добавить неймспейс с нашей моделью
<add namespace="MvcMusicStore.Models">
    
- 1)Как создать представление для определенного действия метода? 2)Шаблоны представлений. 3)Опции Reference script libraries, 4)Create as a partial view, 5)Use a layout page.
    
> 1) на методе правой кнопкой мыши и там выбрать добавить представление 
> 2) Create - генерируется представление с формой для создания новых объектов модели. В этой форме для каждого свойства модели создается отдельное поле
> Delete - генерируется представление с формой для удаления объектов модели. В этой форме для каждого свойства модели создается отдельное поле.
> Details - генерируется представление, которое отображает значения всех свойств модели.
> Edit - генерируется представление с формой для редактирования имеющихся объектов модели. В этой форме для каждого свойства модели создается отдельное поле.
> Empty - создается пустое представление, но теперь ниже мы можем выбрать модель, которая будет подключена в представлении с помощью директивы @model.
> Empty(without model) - создается пустое представление с начальной разметкой, без модели, единст тип, где не надо выбирать модель.
> List - создается представление, которое отображает все объекты из списка моделей в виде таблицы. Для генерации списка объектов в данное представление необходимо передавать из метода контроллера значение типа IEnumerable<Тип_модели>. Представление также содержит ссылки на методы для выполнения операций создания/правки/удаления.
> 3) Reference script libraries эта опция показывает, будет ли представление автоматически подключать стандартный набор библиотек jQuery и прочих файлов JavaScript. по дефолту _Layout.cshtml с jQuery но без валидации. Когда создается представление , добавляется jqueryval.
> 4) Create as a partial view позволяет создать частичное представление, без Layout опции. выглядит как и обычное но без тегов html или head.
> 5) Use a layout page - используется для переопределения дефолтного лайаута. эта опция указывает, будет ли использоваться мастер-страница или представление будет самодостаточным. После установки этой опции нам станет доступным нижнее поле, в котором можно выбрать мастер-страницу. Для движка Razor указание мастер-страницы не является обязательным, если вы собираетесь использовать мастер-страницу, определенную по умолчанию в файле _ViewStart.cshtml. Однако, если вы хотите переопределить мастер-страницу, то можете воспользоваться этой опцией.

- Вставка C# кода в представление. Unencoded Code Expressions. Mixing Code and Plain Text. Escaping the Code Delimiter. Server-Side Comments. Calling a Generic Method.
> <span>@Html.Raw(model.Message)</span> - unencoded code expression
> через теги <text> или @: - mixing code and plain text
> @@ or &#64;  - escaping the code delimeter
> @* *@ - server-side comments
> @(Html.SomeMethod<Type>()) - calling generic methods
- Layouts. Sections, optional and not defined sections.
> 
- ViewStart.
> Для более гибкой настройки представлений предназначена страница _ViewStart.cshtml. Код этой страницы выполняется до кода любого из представлений, расположенных в том же каталоге. Данный файл последовательно применяется к каждому представлению, находящемуся в одном каталоге.
> При создании проекта ASP.NET MVC 5 в каталог Views уже по умолчанию добавляется файл _ViewStart.cshtml. Этот файл определяет мастер-страницу, используемую по умолчанию:
    > @{
    >     Layout = "~/Views/Shared/_Layout.cshtml";
    > }
> Данный код выполняется до любого другого кода, определенного в представлении, поэтому из других представлений мы можем удалить секцию Layout. Если же представление должно использовать другую мастер-страницу, то мы просто переопределяем свойство Layout, дописывая его определение в начало представления.
